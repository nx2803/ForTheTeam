version: '3.8'

services:
  neuproject-back:
    build:
      context: ./neuproject-back
      dockerfile: Dockerfile
    ports:
      - "3001:3001"
    environment:
      - NODE_ENV=production
      # - DATABASE_URL=your_supabase_db_url
    restart: unless-stopped
    # depends_on:
    #   - db # Uncomment if hosting local DB via docker

  neuproject-front:
    build:
      context: ./neuproject-front
      dockerfile: Dockerfile
    ports:
      - "3000:3000"
    environment:
      - NODE_ENV=production
      - NEXT_PUBLIC_API_URL=http://localhost:3001
    restart: unless-stopped
    depends_on:
      - neuproject-back
